module.exports=[31500,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return f}});let d=a.r(27669),e=()=>{};function f(a){let{headManager:b,reduceComponentsToState:c}=a;function f(){if(b&&b.mountedInstances){let a=d.Children.toArray(Array.from(b.mountedInstances).filter(Boolean));b.updateHead(c(a))}}return b?.mountedInstances?.add(a.children),f(),e(()=>(b?.mountedInstances?.add(a.children),()=>{b?.mountedInstances?.delete(a.children)})),e(()=>(b&&(b._pendingUpdate=f),()=>{b&&(b._pendingUpdate=f)})),null}},11638,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return p},defaultHead:function(){return l}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(31564),g=a.r(71340),h=a.r(8171),i=g._(a.r(27669)),j=f._(a.r(31500)),k=a.r(41558);function l(){return[(0,h.jsx)("meta",{charSet:"utf-8"},"charset"),(0,h.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function m(a,b){return"string"==typeof b||"number"==typeof b?a:b.type===i.default.Fragment?a.concat(i.default.Children.toArray(b.props.children).reduce((a,b)=>"string"==typeof b||"number"==typeof b?a:a.concat(b),[])):a.concat(b)}a.r(56660);let n=["name","httpEquiv","charSet","itemProp"];function o(a){let b,c,d,e;return a.reduce(m,[]).reverse().concat(l().reverse()).filter((b=new Set,c=new Set,d=new Set,e={},a=>{let f=!0,g=!1;if(a.key&&"number"!=typeof a.key&&a.key.indexOf("$")>0){g=!0;let c=a.key.slice(a.key.indexOf("$")+1);b.has(c)?f=!1:b.add(c)}switch(a.type){case"title":case"base":c.has(a.type)?f=!1:c.add(a.type);break;case"meta":for(let b=0,c=n.length;b<c;b++){let c=n[b];if(a.props.hasOwnProperty(c))if("charSet"===c)d.has(c)?f=!1:d.add(c);else{let b=a.props[c],d=e[c]||new Set;("name"!==c||!g)&&d.has(b)?f=!1:(d.add(b),e[c]=d)}}}return f})).reverse().map((a,b)=>{let c=a.key||b;return i.default.cloneElement(a,{key:c})})}let p=function({children:a}){let b=(0,i.useContext)(k.HeadManagerContext);return(0,h.jsx)(j.default,{reduceComponentsToState:o,headManager:b,children:a})};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},43142,(a,b,c)=>{b.exports=a.r(11638)},16171,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(25347),f=a.i(27669),g=b([e]);[e]=g.then?(await g)():g;let i="NEXT_ECOMMERCE_STARTER_",j={cart:[],numberOfItemsInCart:0,total:0},k=f.default.createContext(j);function h(a){return a.reduce((a,b)=>{let c=b.quantity;return a+=JSON.parse(b.price)*c},0)}class l extends f.default.Component{componentDidMount(){}setItemQuantity=a=>{let{cart:b}=JSON.parse(window.localStorage.getItem(i)),c=b.findIndex(b=>b.id===a.id);b[c].quantity=a.quantity,window.localStorage.setItem(i,JSON.stringify({cart:b,numberOfItemsInCart:b.length,total:h(b)})),this.forceUpdate()};addToCart=a=>{let{cart:b}=JSON.parse(window.localStorage.getItem(i));if(b.length){let c=b.findIndex(b=>b.id===a.id);c>=Number(0)?b[c].quantity=b[c].quantity+a.quantity:b.push(a)}else b.push(a);window.localStorage.setItem(i,JSON.stringify({cart:b,numberOfItemsInCart:b.length,total:h(b)})),(0,e.toast)("Successfully added item to cart!",{position:e.toast.POSITION.TOP_LEFT}),this.forceUpdate()};removeFromCart=a=>{let{cart:b}=JSON.parse(window.localStorage.getItem(i));b=b.filter(b=>b.id!==a.id),window.localStorage.setItem(i,JSON.stringify({cart:b,numberOfItemsInCart:b.length,total:h(b)})),this.forceUpdate()};clearCart=()=>{window.localStorage.setItem(i,JSON.stringify(j)),this.forceUpdate()};render(){return(0,d.jsx)(k.Provider,{value:{...j,addToCart:this.addToCart,clearCart:this.clearCart,removeFromCart:this.removeFromCart,setItemQuantity:this.setItemQuantity},children:this.props.children})}}a.s(["ContextProviderComponent",()=>l,"SiteContext",()=>k]),c()}catch(a){c(a)}},!1),30657,(a,b,c)=>{b.exports=a.x("@react-google-maps/api-03229300866de45f",()=>require("@react-google-maps/api-03229300866de45f"))},68682,a=>{"use strict";var b=a.i(8171),c=a.i(30657),d=a.i(27669);let e=["places"];function f({onAddressSelect:a,onChange:f,defaultValue:g=""}){let[h,i]=(0,d.useState)(g),j=(0,d.useRef)(null),{isLoaded:k,loadError:l}=(0,c.useLoadScript)({googleMapsApiKey:process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY,libraries:e});return l?(0,b.jsx)("input",{type:"text",value:h,onChange:a=>i(a.target.value),className:"mt-2 text-sm shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Street Address"}):k?(0,b.jsx)(c.Autocomplete,{onLoad:a=>{j.current=a},onPlaceChanged:()=>{if(j.current){let b=j.current.getPlace();if(b.formatted_address){i(b.formatted_address);let c={fullAddress:b.formatted_address,street:"",city:"",state:"",postal_code:"",country:"",lat:b.geometry?.location?.lat(),lng:b.geometry?.location?.lng()};b.address_components?.forEach(a=>{let b=a.types;(b.includes("street_number")||b.includes("route"))&&(c.street+=a.long_name+" "),b.includes("locality")&&(c.city=a.long_name),b.includes("administrative_area_level_1")&&(c.state=a.long_name),b.includes("postal_code")&&(c.postal_code=a.long_name),b.includes("country")&&(c.country=a.long_name)}),c.street=c.street.trim(),a&&a(c)}}},options:{componentRestrictions:{country:"in"},fields:["address_components","formatted_address","geometry"]},children:(0,b.jsx)("input",{type:"text",value:h,name:"street",onChange:a=>{i(a.target.value),f&&f(a)},className:"mt-2 text-sm shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Start typing your address..."})}):(0,b.jsx)("input",{type:"text",value:h,onChange:a=>{i(a.target.value),f&&f(a)},placeholder:"Street Address",className:"mt-2 text-sm shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})}a.s(["default",()=>f])},38533,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(43142),g=a.i(86027),h=a.i(16171),i=a.i(16112),j=a.i(70797),k=a.i(16711),l=a.i(7802),m=a.i(91443),n=a.i(68398),o=a.i(25347),p=a.i(68682),q=b([h,i,n,o]);[h,i,n,o]=q.then?(await q)():q;let r=({onChange:a,value:b,name:c,placeholder:e,type:f="text"})=>(0,d.jsx)("input",{onChange:a,value:b,className:"mt-2 text-sm shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:f,placeholder:e,name:c,required:!0}),s=({context:a})=>{let b=(0,g.useRouter)(),{user:c,isAuthenticated:h}=(0,i.useAuth)(),[q,s]=(0,e.useState)(!1),[t,u]=(0,e.useState)({name:c?.name||"",email:c?.email||"",street:"",city:"",postal_code:"",state:""}),v=a=>{u({...t,[a.target.name]:a.target.value})},w=async c=>{if(c.preventDefault(),!h){o.toast.error("Please login to place an order"),b.push("/login");return}let{name:d,email:e,street:f,city:g,postal_code:i,state:j}=t,{total:k,cart:l,clearCart:m}=a;if(!f||!g||!i||!j)return void o.toast.error("Please fill in all address fields");if(0===l.length)return void o.toast.error("Your cart is empty");s(!0);try{let a={items:l.map(a=>({product:a.id,name:a.name,price:a.price,quantity:a.quantity||1,image:a.image})),totalAmount:k,shippingAddress:{name:d,email:e,address:`${f}, ${g}, ${j} - ${i}`},paymentMethod:"UPI"},c=await n.default.post("/api/orders",a);if(c.data.success){let a=c.data.order._id;m(),o.toast.success("Order created! Redirecting to payment..."),setTimeout(()=>{b.push(`/payment?orderId=${a}`)},1e3)}}catch(b){console.error("Order creation error:",b);let a=b.response?.data?.message||"Failed to create order";o.toast.error(a)}finally{s(!1)}},{numberOfItemsInCart:x,cart:y,total:z}=a,A=x===Number(0);return(0,d.jsxs)("div",{className:"flex flex-col items-center pb-10",children:[(0,d.jsxs)(f.default,{children:[(0,d.jsx)("title",{children:"Next.js Store - Checkout"}),(0,d.jsx)("meta",{name:"description",content:"Next.js Store Checkout"}),(0,d.jsx)("meta",{property:"og:title",content:"Next.js Store - Checkout"},"title")]}),(0,d.jsxs)("div",{className:"flex flex-col w-full c_large:w-c_large",children:[(0,d.jsxs)("div",{className:"pt-10 pb-8",children:[(0,d.jsx)("h1",{className:"text-5xl font-light mb-6",children:"Checkout"}),(0,d.jsx)(l.default,{href:"/cart",children:(0,d.jsx)("a",{"aria-label":"Cart",children:(0,d.jsxs)("div",{className:"cursor-pointer flex items-center",children:[(0,d.jsx)("span",{className:"mr-2 text-gray-600",children:(0,d.jsx)(k.FaLongArrowAltLeft,{})}),(0,d.jsx)("p",{className:"text-gray-600 text-sm",children:"Edit Cart"})]})})})]}),A?(0,d.jsx)("h3",{children:"No items in cart."}):(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("div",{children:y.map((a,b)=>(0,d.jsx)("div",{className:"border-b py-10",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(m.default,{className:"w-32 m-0",src:a.image,alt:a.name}),(0,d.jsx)("p",{className:"m-0 pl-10 text-gray-600",children:a.name}),(0,d.jsx)("div",{className:"flex flex-1 justify-end",children:(0,d.jsx)("p",{className:"m-0 pl-10 text-gray-900 font-semibold",children:j.default+a.price})})]})},b))}),(0,d.jsxs)("div",{className:"flex flex-1 flex-col md:flex-row",children:[(0,d.jsx)("div",{className:"flex flex-1 pt-8 flex-col",children:(0,d.jsxs)("div",{className:"mt-4 border-t pt-10",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Shipping Address"}),(0,d.jsxs)("form",{onSubmit:w,children:[(0,d.jsx)(r,{onChange:v,value:t.name,name:"name",placeholder:"Full Name"}),(0,d.jsx)(r,{onChange:v,value:t.email,name:"email",type:"email",placeholder:"Email"}),(0,d.jsxs)("div",{className:"mt-2",children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",(0,d.jsx)("span",{className:"text-xs text-gray-500",children:"(Start typing to search)"})]}),(0,d.jsx)(p.default,{onAddressSelect:a=>{u({...t,street:a.street,city:a.city,state:a.state,postal_code:a.postal_code})},onChange:v,defaultValue:t.street})]}),(0,d.jsx)(r,{onChange:v,value:t.city,name:"city",placeholder:"City"}),(0,d.jsx)(r,{onChange:v,value:t.state,name:"state",placeholder:"State"}),(0,d.jsx)(r,{onChange:v,value:t.postal_code,name:"postal_code",placeholder:"Postal Code"}),(0,d.jsx)("button",{type:"submit",disabled:q,className:"hidden md:block bg-primary hover:bg-black text-white font-bold py-2 px-4 mt-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50 disabled:cursor-not-allowed",children:q?"Processing...":"Proceed to Payment"})]})]})}),(0,d.jsxs)("div",{className:"md:pt-20",children:[(0,d.jsxs)("div",{className:"pl-4 flex flex-1 pt-2 md:pt-8 mt-2 sm:mt-0",children:[(0,d.jsx)("p",{className:"text-sm pr-10 text-left",children:"Subtotal"}),(0,d.jsx)("p",{className:"w-38 flex text-right justify-end",children:j.default+z})]}),(0,d.jsxs)("div",{className:"pl-4 flex flex-1 my-2",children:[(0,d.jsx)("p",{className:"text-sm pr-10",children:"Shipping"}),(0,d.jsx)("p",{className:"w-38 flex justify-end",children:"FREE SHIPPING"})]}),(0,d.jsxs)("div",{className:"md:ml-4 pl-2 flex flex-1 bg-gray-200 pr-4 pb-1 pt-2 mt-2",children:[(0,d.jsx)("p",{className:"text-sm pr-10",children:"Total"}),(0,d.jsx)("p",{className:"font-semibold w-38 flex justify-end",children:j.default+z})]}),(0,d.jsx)("div",{className:"md:ml-4 pl-2 mt-4 p-3 bg-blue-50 border border-blue-200 rounded",children:(0,d.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,d.jsx)("strong",{children:"Payment Method:"})," UPI"]})}),(0,d.jsx)("button",{type:"submit",disabled:q,onClick:w,className:"md:hidden bg-primary hover:bg-black text-white font-bold py-2 px-4 mt-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50 disabled:cursor-not-allowed w-full",children:q?"Processing...":"Proceed to Payment"})]})]})]})]})]})};a.s(["default",0,function(a){return(0,d.jsx)(h.ContextProviderComponent,{children:(0,d.jsx)(h.SiteContext.Consumer,{children:b=>(0,d.jsx)(s,{...a,context:b})})})}]),c()}catch(a){c(a)}},!1),14355,a=>a.a(async(b,c)=>{try{var d=a.i(52635),e=a.i(27142),f=a.i(50634),g=a.i(46513),h=a.i(61886),i=a.i(38533),j=a.i(60284),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/checkout",pathname:"/checkout",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/checkout",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__b7051643._.js.map